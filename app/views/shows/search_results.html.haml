%h1 Show Search Results
= paginate @current_page, @page_count, :outer_window => 5
%table{:width => "85%", :align => "center", :class => "tablesorter"}
  %thead
    %tr
      %th{:width => "10%", :align => "left"} Show Date
      %th{:width => "20%", :align => "left"} Venue Name
      %th{:width => "10%", :align => "left"} City
      %th{:width => "10%", :align => "left"} State
      %th{:width => "10%", :align => "left"} Setlist
      %th{:width => "10%", :align => "left"} Recordings
    %tbody  
      - @shows.each do |show|
        %tr
          %td= show.date_played
          %td= show.venue.venue_name
          %td= show.venue.venue_city
          %td= show.venue.venue_state
          %td 
            %a{:href => "#", :onclick => "$('#dialog_setlist_#{show.id}').setlist(#{show.id})"} Setlist
            %div{:id => "dialog_setlist_#{show.id}", :title => "Setlist for #{show.date_played}"}
          %td
            %a{:href => "#", :onclick => "$('#dialog_rec_#{show.id}').recordings(#{show.id})"} Recordings
            %div{:id => "dialog_rec_#{show.id}", :title => "Recordings for #{show.date_played}"}
%input{:type => "hidden", :name => "year", :value => "#{params['year']}"}
%input{:type => "hidden", :name => "start_date", :value => "#{params['start_date']}"}
%input{:type => "hidden", :name => "end_date", :value => "#{params['end_date']}"}
%input{:type => "hidden", :name => "song_name", :value => "#{params['song_name']}"}
%input{:type => "hidden", :name => "venue_name", :value => "#{params['venue_name']}"}
%input{:type => "hidden", :name => "venue_city", :value => "#{params['venue_city']}"}
%input{:type => "hidden", :name => "venue_state", :value => "#{params['venue_state']}"}
