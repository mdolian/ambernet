= will_paginate @shows
%table{:align => "center", :class => "tablesorter"}
  %thead
    %tr
      - if admin_signed_in?
        %th{:width => "10%", :align => "left"} Delete 
        %th{:width => "10%", :align => "left"} Edit
      %th{:width => "15%", :align => "left"} Details   
      %th{:width => "15%", :align => "left"} Date Played      
      %th{:width => "15%", :align => "left"} Venue
      %th{:width => "15%", :align => "left"} Setlist
      %th{:width => "15%", :align => "left"} Recordings            
    %tbody  
      %tr
        %td{:colspan => "7"}= link_to 'New Show', new_show_path
      - @shows.each do |show|
        %tr
          - if admin_signed_in?
            %td= link_to 'Destroy', show_path(show), :confirm => "Are you sure?", :method => :delete
            %td= link_to 'Edit', edit_show_path(show)
          %td= link_to 'Show', show_path(show)  
          %td= show.date_played
          %td= show.venue.venue_label
          %td 
            %a{:href => "#", :onclick => "$('#dialog_setlist_#{show.id}').setlist(#{show.id})"} Setlist
            %div{:id => "dialog_setlist_#{show.id}", :title => "Setlist for #{show.date_played}"}
          %td
            %a{:href => "#", :onclick => "$('#dialog_rec_#{show.id}').recordings(#{show.id})"} Recordings (#{show.recording_count})
            %div{:id => "dialog_rec_#{show.id}", :title => "Recordings for #{show.date_played}"}
= will_paginate @shows